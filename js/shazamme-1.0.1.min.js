(()=>{const version="1.0.1",host={resources:"https://sdk.shazamme.io"},message={auth:"site-auth"},provider={linkedin:"linkedinProvider",seek:"seekProvider"},seekAdvertiser="20690608";let _s={},_ps={},_c={},_tr={},_b={},_r={};function _init(){const ActionUrl="https://shazamme.io/Job-Listing/src/php/actions",RegionalUrl="https://shazamme.io/Job-Listing/src/php/regional/actions",sender=this;let _ready=window[`shazamme-${version}-ready`];this.ready=(e,t)=>{if(_ready)return _ready;if(sender._sid=sender._sid||e,window[`shazamme-${version}-ready`]=_ready=new Promise((s=>{Promise.all([$.get(`${host.resources}/js/site/shazamme.json`).then((e=>(_c=e?.config||{},_tr=e?.trace||{},_r=e?.run||{},Promise.resolve())),(()=>Promise.resolve())),sender.site(),sender._pageConfig(e,t)]).then((()=>{s()})).catch((e=>{console.error(e)}))})),addEventListener("CookiebotOnConsentReady",(function(){if(Cookiebot.consent.marketing){let e=new URL(window.location.href),t=e.searchParams.get("utm_source"),s=e.searchParams.get("utm_medium"),r=e.searchParams.get("utm_term"),o=e.searchParams.get("utm_campaign"),n=e.searchParams.get("utm_content");t?.length>0?sessionStorage.referralSource=t:document.referrer?.length>0&&!sessionStorage.referralSource&&(e=new URL(document.referrer),t=e.searchParams.get("utm_source"),s=e.searchParams.get("utm_medium"),r=e.searchParams.get("utm_term"),o=e.searchParams.get("utm_campaign"),n=e.searchParams.get("utm_content"),sessionStorage.referralSource=t||e.hostname),s?.length>0&&(sessionStorage.referralMedium=s),r?.length>0&&(sessionStorage.referralTerm=r),o?.length>0&&(sessionStorage.referralCampaign=o),n?.length>0&&(sessionStorage.referralContent=n)}else localStorage.removeItem("referralSource"),localStorage.removeItem("referralMedium"),localStorage.removeItem("referralTerm"),localStorage.removeItem("referralCampaign"),localStorage.removeItem("referralContent"),sessionStorage.removeItem("referralSource"),sessionStorage.removeItem("referralMedium"),sessionStorage.removeItem("referralTerm"),sessionStorage.removeItem("referralCampaign"),sessionStorage.removeItem("referralContent")})),window.Cookiebot&&!Cookiebot.consent.marketing)localStorage.removeItem("referralSource"),localStorage.removeItem("referralMedium"),localStorage.removeItem("referralTerm"),localStorage.removeItem("referralCampaign"),localStorage.removeItem("referralContent"),sessionStorage.removeItem("referralSource"),sessionStorage.removeItem("referralMedium"),sessionStorage.removeItem("referralTerm"),sessionStorage.removeItem("referralCampaign"),sessionStorage.removeItem("referralContent");else{let e=new URL(window.location.href),t=e.searchParams.get("utm_source"),s=e.searchParams.get("utm_medium"),r=e.searchParams.get("utm_term"),o=e.searchParams.get("utm_campaign"),n=e.searchParams.get("utm_content");t?.length>0?sessionStorage.referralSource=t:document.referrer?.length>0&&!sessionStorage.referralSource&&(e=new URL(document.referrer),t=e.searchParams.get("utm_source"),s=e.searchParams.get("utm_medium"),r=e.searchParams.get("utm_term"),o=e.searchParams.get("utm_campaign"),n=e.searchParams.get("utm_content"),sessionStorage.referralSource=t||e.hostname),s?.length>0&&(sessionStorage.referralMedium=s),r?.length>0&&(sessionStorage.referralTerm=r),o?.length>0&&(sessionStorage.referralCampaign=o),n?.length>0&&(sessionStorage.referralContent=n)}if(window.clarity){let e=localStorage._clarity;e||(e=sender.uuid(),localStorage._clarity=e),clarity("identify",e)}return _ready},this.register=(n,config,tracing=!1)=>{if(n?.length>0){let c={_name:n,...config};_s[`${n}-${config.widgetId}-${config.elementId}`]=c,this._sid=this._sid||c.siteId,this._site||this.site().then();const _sub={};let _tracer;tracing&&sender.tracer().then((e=>_tracer=e)),sender._cTrace(c);const o={supports:e=>{c.supports={...c.supports,...e}},sub:(e,t)=>{if(_sub[e])return;let s=sender.sub(e,((s,r)=>{_sub[e]===r&&t(s)}));return _sub[e]=s,console.log(`${n} listening for message '${e}' (${s})`,c),o},pub:(e,t,s)=>(console.log(`${n} publishing message '${e}'`,c),sender.pub(e,t,s),o),unsub:e=>(_sub[e]&&(console.log(`${n} stop listening for message '${e}'`,c),delete _ps[e][_sub[n]],delete _sub[e]),o),defaults:()=>new Promise(((e,t)=>{sender._pageConfig(config.siteId,config.page).then((t=>{e({..._c[n],...t[n]})}))})),bag:(e,t)=>sender.bag(`${n}:${config.widgetId}-${config.elementId}:${e}`,t),config:e=>void 0===e?sender.submit({action:"Get Widget Configuration",siteID:config.siteId,accountID:config.accountId,elementID:config.elementId,pageName:config.page},!1).then((e=>Promise.resolve(JSON.parse(e.configuration||null)))):sender.submit({action:"Set Widget Configuration",siteID:config.siteId,accountID:config.accountId,elementID:config.elementId,pageName:config.page,widgetName:n,configuration:JSON.stringify(e)},!1),log:(e,...t)=>(sender.log(`got message from ${n}`,c),sender.log(e,...t),_tracer?.trace({from:n,widget:config,message:e,params:t,ua:window.navigator?.userAgent,level:"log"}),o),warn:(e,...t)=>(sender.warn(`got message from ${n}`,config),sender.warn(e,...t),_tracer?.trace({from:n,widget:config,message:e,params:t,ua:window.navigator?.userAgent,level:"warn"}),o),trace:(e,...t)=>(sender.log(`got message from ${n}`,c),sender.trace(e,...t),_tracer?.trace({from:n,widget:config,message:e,params:t,ua:window.navigator?.userAgent,level:"trace"}),o),ex:(e,...t)=>(sender.log(`got message from ${n}`,c),sender.ex(e,...t),_tracer?.trace({from:n,widget:config,message:e,params:t,ua:window.navigator?.userAgent,level:"ex"}),o),id:config.widgetId,eid:config.elementId};return sender._pageConfig(config.siteId,config.page).then((()=>{let r="";for(;r=_r[n]?.pop();)eval(r.replace(/{{widgetId}}/g,config.widgetId));for(let e in _tr[n])for(let t in _tr[n][e])if(config[t]===_tr[n][e][t]){let s=`discovered widget with configuration ${t}: ${config[t]} on page ${config.page}`;switch(e){case"warn":sender.warn(s);break;case"error":sender.ex(s);break;case"trace":sender.trace(s,n,config);break;default:sender.log(s)}}})),o}console.warn("No name provided for object",c)},this.about=e=>{if(e?.length>0){_s[e];for(let t in _s){let s=_s[t];s._name===e&&console.log(`${t}:`,s)}}else for(let e in _s)console.log(`${e}:`,_s[e])},this.collection=e=>{dmAPI.getCollection({collectionName:e}).then((t=>{t?.length>0?console.log(`Collection ${e}`,t):console.warn(`Unable to fetch collection for ${e}`)})).catch((()=>{console.error(`Unable to fetch collection for ${e}`)}))},this.help=()=>{console.log(`\n                Shazamme.JS © - ${version} - Shazamme, Inc\n\n                This is a proprietary API and scripting library for widgets and data\n                consuming and providing data provided by Shazamme. This library can be used\n                for providing basic information about the widgets available on the current page.\n\n                The following methods are currently available.\n\n\n                * version()\n                - Output the version number of the this script library (Shazamme.JS)\n\n                . Example: shazamme.version() // Show Shazamme.JS version number\n\n\n                * about([widget-name {optional}])\n                - Output the version numbers and configurations of any widgets available\n                  on the current page. Optionally, provide the known-name of widget to\n                  see its version number and configuration.\n\n                  Note: Widgets are lazy loaded by default. To achieve the best effect,\n                  make sure to scroll to the bottom of the page before using the about()\n                  function. This will ensure that all widgets are loaded and present().\n\n                . Example: shazamme.about() // Show all widgets\n                . Example: shazamme.about('job-search') // Show the known widget 'job-search'\n\n\n                * collection([collection-name])\n                - Output the data of a given, known collection. Supply the name of a\n                  collection as it is defined for the current site.\n\n                . Example: shazamme.collection('Jobs') // Output the Jobs collection\n\n\n                * help()\n                - Output basic information about methods supported by this version\n                  of Shazamme.JS.\n\n                . Example: shazamme.help()\n            `)},this.version=()=>{console.log("Shazamme.JS ©",version)},this.uuid=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),this.sub=(e,t)=>{if(e?.length>0&&"function"==typeof t){let s=_ps[e]||{},r=this.uuid();return s[r]=t,_ps[e]=s,_ps[`${e}::persistent`]&&t(_ps[`${e}::persistent`]),r}},this.pub=(e,t,s)=>{if(e?.length>0){let r=_ps[e];if(r)for(let e in r)r[e](t,e);if(s){let s=_ps[`${e}::persistent`]||[];s.push(t),_ps[`${e}::persistent`]=s}}},this.unsub=e=>{for(let t in _ps)delete _ps[t][e]},this.site=()=>(this._sp||(this._sp=new Promise(((e,t)=>{this._site?e(this._site):$.ajax({url:ActionUrl,type:"POST",data:JSON.stringify({action:"Get Site ID",dudaSiteID:this._sid})}).then((t=>{let s=t.status&&t.response.items.length>0&&t.response.items[0]||{};if(s?.isLive)return sender._site=s,sender._site.documentUri="https://shazamme.io/candidate-document/",void e(sender._site);$.ajax({url:"https://staging.shazamme.salsa.hosting/Job-Listing/src/php/actions",type:"POST",data:JSON.stringify({action:"Get Site ID",dudaSiteID:this._sid})}).then((t=>{sender._site=t.status&&t.response.items.length>0&&t.response.items[0]||{},sender._site.ActionUrl="https://staging.shazamme.salsa.hosting/Job-Listing/src/php/actions",sender._site.RegionalUrl="https://staging.shazamme.salsa.hosting/Job-Listing/src/php/regional/actions",sender._site.documentUri="https://staging.shazamme.salsa.hosting/candidate-document/",e(sender._site)}))}))}))),this._sp),this.fetch=e=>new Promise(((t,s)=>{if(e.useCache&&e._cache)t(e._cache);else if(e.debug)$.ajax({url:e.endpoint}).then((s=>{e.useCache&&(e._cache=s),t(s)}));else{let s=()=>{console.warn(`Unable to fetch collection for ${e.name} (${this._sid})`),$.ajax(`${e.actionUrl||sender._site?.ActionUrl||ActionUrl}?dudaSiteID=${this._sid}&action=${e.action}`).then((s=>{e.useCache&&(e._cache=s),t(s)}))};dmAPI.getCollection({collectionName:e.name}).then((r=>{r?.length>0?(e.useCache&&(e._cache=r),t(r)):s()})).catch((()=>{s()}))}})),this.submit=(e,t=!0)=>this.site().then((s=>$.ajax({url:t&&(s?.RegionalUrl||RegionalUrl)||s?.ActionUrl||ActionUrl,type:"POST",data:JSON.stringify(e)}))),this.firebase=()=>({create:(e,t)=>new Promise(((s,r)=>{firebase.auth().createUserWithEmailAndPassword(e,t).then((e=>{s({uid:e.user.uid})})).catch((e=>{console.error(e),r({code:e&&e.code,msg:e&&e.message||"We ran into an issue. Plase try again."})}))})),auth:(e,t)=>new Promise(((s,r)=>{firebase.auth().signInWithEmailAndPassword(e,t).then((e=>{firebase.auth().onAuthStateChanged((e=>{e?s(e):r({msg:"The user does not exist or the credentials used were incorrect."})}))})).catch((e=>{console.error(e),r({code:e&&e.code,msg:e&&e.message||"We ran into an issue. Plase try again."})}))})),oauth:e=>new Promise(((t,s)=>{firebase.auth().signInWithPopup(e).then((e=>{let s=(e.additionalUserInfo.profile.name||"").split(" ");t({token:e.credential,firebaseUserID:e.user.uid,email:e.additionalUserInfo.profile.email,lastName:s.pop()||"",firstName:s.join(" "),isNew:e.additionalUserInfo.isNewUser})})).catch((e=>{console.error(e),s({code:e&&e.code,msg:e&&e.message||"We ran into an issue. Plase try again."})}))})),signOut:(e=!0)=>(e&&(sender.endSession(),sender.pub(message.auth)),firebase.auth().signOut()),user:()=>firebase.auth().currentUser,verify:e=>firebase.auth().checkActionCode(e),reset:e=>firebase.auth().sendPasswordResetEmail(e),verifyReset:e=>firebase.auth().verifyPasswordResetCode(e),confirmReset:(e,t)=>firebase.auth().confirmPasswordReset(e,t),validateEmail:e=>firebase.auth().fetchSignInMethodsForEmail(e),delete:e=>{let t=firebase.auth().currentUser;if(!t)return Promise.reject();const s=t.providerData[0].providerId;if("password"===s){if(e?.length>0){const s=firebase.auth.EmailAuthProvider.credential(t.email,e);return t.reauthenticateWithCredential(s).then((e=>e.user.delete()))}return Promise.reject()}const r="google.com"===s?googleProvider:facebookProvider;return firebase.auth().signInWithPopup(r).then((e=>t.reauthenticateWithCredential(e.credential))).then((e=>e.user.delete()))}}),this.gapi=(e,t="beta")=>({maps:(s=[],r=t)=>((e=>{var t,s,r,o="The Google Maps JavaScript API",n="google",a="importLibrary",i="__ib__",c=document,l=window,m=(l=l[n]||(l[n]={})).maps||(l.maps={}),g=new Set,d=new URLSearchParams;m[a]?console.warn(o+" only loads once. Ignoring:",e):m[a]=(l,...h)=>g.add(l)&&(t||(t=new Promise((async(a,l)=>{for(r in await(s=c.createElement("script")),d.set("libraries",[...g]+""),e)d.set(r.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[r]);d.set("callback",n+".maps."+i),s.src=`https://maps.${n}apis.com/maps/api/js?`+d,m[i]=a,s.onerror=()=>t=l(Error(o+" could not load.")),s.nonce=c.querySelector("script[nonce]")?.nonce||"",c.head.append(s)})))).then((()=>m[a](l,...h)))})({key:e,v:t}),Promise.all(s?.filter((e=>e?.length>0)).map((e=>google.maps.importLibrary(e)))||[]))}),this.able=()=>{const e="_s_able",t=(t=5,s=500)=>new Promise(((r,o)=>{let n=sender.currentSession();n||o();let a=0;const i=()=>{sender.submit({action:"Able Lookup",email:n.email,token:sender.cookie(e)}).then((e=>{e.status?r(e):a++<t+1?setTimeout(i,s):o()}))};i()})),s=t=>sender.submit({action:"Able Sign Up Link",applicantID:t,token:sender.cookie(e)}),r=t=>sender.submit({action:"Able Sign In Link",applicantID:t,token:sender.cookie(e)});return sender.cookie(e)?Promise.resolve({fetch:t,signUp:s,signIn:r}):sender.site().then((e=>sender.submit({action:"Able Authenticate",siteID:e.siteID}))).then((o=>{let n=o?.response;return n?(sender.cookie(e,n.access_token,new Date((new Date).getTime()+1e3*n.expires_in)),Promise.resolve({fetch:t,signUp:s,signIn:r})):Promise.reject()}))},this.currentUser=(e=!1)=>{let t;this.trace("Warning: Use of the method currentUser() is deprecated. Please replace with the method user()");try{t=JSON.parse(decodeURIComponent(escape(atob(localStorage._s))))}catch{}return t&&!e&&Promise.resolve({...t})||localStorage._s&&sender.auth(t.email,t?.firebaseUserID)||Promise.resolve()},this.user=(e=!1)=>{let t;try{t=JSON.parse(decodeURIComponent(escape(atob(localStorage._s))))}catch{}return t&&!e&&Promise.resolve({...t})||localStorage._s&&sender.auth(t.email,t?.firebaseUserID)||Promise.resolve()},this.bag=(e,t)=>void 0===e?_b:void 0===t?_b[e]:null!==t?(_b[e]=t,t):void delete _b[e],this.cookie=(e,t,s)=>{if(void 0===t){let t=new RegExp(`${e}{1}=(.+?)(;|$)`).exec(document.cookie)?.slice(1,2)?.pop();return t?.length>0&&unescape(t)}document.cookie=null!==t?`${e}=${t}; Path=/; ${s?`Expires=${s.toUTCString()};`:""}`:`${e}=''; Path=/; Expires=${new Date(0).toUTCString()};`},this.store=(e,t)=>void 0===t?localStorage.getItem(e):null!==t?(localStorage.setItem(e,t),t):void localStorage.removeItem(e),this.session=(e,t)=>void 0===t?sessionStorage.getItem(e):null!==t?(sessionStorage.setItem(e,t),t):void sessionStorage.removeItem(e),this.unique=(e,t,s)=>s.indexOf(e)===t,this.geoLocate=()=>new Promise(((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>e(t)),(()=>e())):e()})),this.geoCode=(e,t,s)=>(e?.length>0&&t&&s&&$.ajax({url:`https://maps.googleapis.com/maps/api/geocode/json?latlng=${t},${s}&key=${e}`})||Promise.resolve()).then((e=>{if(e?.results?.length>0){let t={};return e.results[0].address_components.forEach((e=>{e.types.forEach((s=>{t[s]=e.short_name}))})),Promise.resolve(t)}return Promise.resolve()}),(()=>Promise.resolve())),this.auth=(e,t=!1)=>(this.trace("WARNING: This version of Shazamme.JS no longer supports authentication. Consider migrating to version 1.0.2+ as soon as possible."),Promise.reject()),this.oauth=e=>(this.trace("WARNING: This version of Shazamme.JS no longer supports authentication. Consider migrating to version 1.0.2+ as soon as possible."),Promise.reject()),this.quickRegister=e=>0===e?.length&&Promise.reject()||sender.firebase().validateEmail(e).then((()=>sender.site())).then((t=>sender.submit({action:"Register Candidate",eMail:e,firstName:" ",isActive:!0,isValidated:!1,isSubscribed:!1,dudaSiteID:t.dudaSiteID}))).then((e=>Promise.resolve(e?.response?.item||e?.response?.items?.at(0)))),this.endSession=()=>{["authProvider","linkedIncode","resumeBinary","resumeFileName","resumeLink","seekAuthorizationCode","vinylResponse","_s"].forEach((e=>localStorage.removeItem(e))),delete sender._session},this.client=()=>sender.site().then((e=>{const t=e?.isLive?"https://shazamme.io/Job-Listing/src/php/client/actions":"https://staging.shazamme.salsa.hosting/Job-Listing/src/php/client/actions";return Promise.resolve({submit:e=>$.ajax({url:t,type:"POST",data:JSON.stringify(e)}),fetch:e=>sender.fetch({...e,actionUrl:t})})})),this.log=(e,...t)=>{console.log(e,...t)},this.trace=(e,...t)=>{console.trace(e,...t)},this.warn=(e,...t)=>{console.warn(e,...t)},this.ex=(e,...t)=>{console.error(e,...t)},this.tracer=()=>new Promise(((e,t)=>{const s={trace:e=>sender._tracer?.push(e)};sender._tracer?e(s):!window.Cookiebot||Cookiebot?.consent?.statistics?$.getScript("js/loggly.tracker-2.2.4.min.js",(function(){sender._tracer=_LTracker,sender._tracer.push({logglyKey:"70c3ea33-de10-495b-bb9d-574e90489d69",sendConsoleErrors:!1,tag:"loggly-jslogger"}),e(s)}),(function(){t()})):t()})),this.dragula=()=>new Promise(((e,t)=>{$.getScript(`${host.resources}/dragula/dragula.min.js`,(function(){$("head").append($(`<link rel="stylesheet" type="text/css" href="${host.resources}/dragula/dragula.min.css" crossorigin="anonymous" />`)),e(dragula)}),(function(){t()}))})),this.colorChooser=()=>new Promise(((e,t)=>{$.getScript(`${host.resources}/choose-color/choose-color.js`,(function(){$("head").append($(`<link rel="stylesheet" type="text/css" href="${host.resources}/choose-color/choose-color.css" crossorigin="anonymous" />`)),e()}),(function(){t()}))})),this.script=e=>new Promise(((t,s)=>{$.getScript(e,(function(){t()}),(function(){s()}))})),this.style=e=>new Promise(((t,s)=>{$("head").append($(`<link rel="stylesheet" type="text/css" href="${e}" crossorigin="anonymous" />`)),t()})),this.toast=(e,t=2500)=>new Promise(((s,r)=>{let o=sender._toastWait||0;clearTimeout(sender._hideToast);let n=$(".shazamme-toast");0===n.length&&(n=$('\n                    <div class="shazamme-toast" style="opacity: 0;">\n                        <span class="text"></span>\n                        <button class="close"><span class="text">X</span></button>\n                    </div>\n                ').appendTo($("body"))),setTimeout((()=>{n.css({opacity:100}).find(".text").first().text(e),sender._hideToast=setTimeout((()=>{n.css({opacity:0}),setTimeout((()=>n.remove()),2e3)}),t),sender._toastWait-=t,s()}),o),sender._toastWait=o+t})),this.message={...message},this._v=version,this.v=e=>window[`shazamme-${e}`],this._cTrace=e=>{_tr&&this.tracer().then((t=>{let s=t=>{let s=!0;for(let r in t)s=s&&e.config[r]===t[r];if(s)return e.config};for(let r in _tr[e._name])_tr[e._name][r].forEach((o=>{let n=s(o);n&&t?.trace({from:e._name,widget:e,message:`Found widget ${e._name} on page ${e.page}`,params:n,level:r,messageType:"widget-tracing"})}))}))},this._pageConfig=(e,t)=>new Promise(((s,r)=>{e&&t?(sender._config=sender._config||{},sender._config[`${e}_${t}`]?s(sender._config[`${e}_${t}`]):Promise.allSettled([$.get(`${host.resources}/js/site/${e}/shazamme.json`),$.get(`${host.resources}/js/site/${e}/${t}/shazamme.json`)]).then((r=>{let o={};r.forEach((e=>{for(let t in e.value?.config)o[t]={...o[t],...e.value?.config[t]};for(let t in e.value?.run)_r[t]=[..._r[t],...e.value?.run[t]];for(let t in e.value?.trace){_tr[t]=_tr[t]||{};for(let s in e.value.trace[t])_tr[t][s]=Array.concat(e.value.trace[t][s],_tr[t][s]||[])}})),sender._config[`${e}_${t}`]=o,s(o)}),(r=>{if(r.status>=400&&r.status<500)return sender._config[`${e}_${t}`]={},void s({});sender.warn(`Error encountered looking for page configuration (${e} : ${t}`,r)}))):s()}))}if(!window[`shazamme-${version}`]){let e=new _init;(!window.shazamme||window.shazamme._v<e._v)&&(window.shazamme=e),window[`shazamme-${e._v}`]=e}})();